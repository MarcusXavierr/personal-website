<!doctype html><html lang=pt-br><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Clean Code: Fazendo bom uso das funções | Parte 1 - Meu website</title><meta name=Description content="This is my cool site"><meta property="og:title" content="Clean Code: Fazendo bom uso das funções | Parte 1"><meta property="og:description" content="Parafraseando o próprio uncle bob, funções são a primeira linha de organização de qualquer programa. Ou seja, na maioria das linguagens, uma função (ou método) é a &ldquo;menor&rdquo; forma de organizar seu código.
Você pode ter classes, interfaces e tudo mais, mas dentro disso tudo estarão funções mantendo sua codebase organizada. Ou bagunçada, depende de como você as usa. Eu diria que essa é uma das partes mais importantes dessa série de artigos justamente por isso."><meta property="og:type" content="article"><meta property="og:url" content="https://marcusxavier.dev/posts/clean-code-part2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-09-17T12:17:03-03:00"><meta property="article:modified_time" content="2022-09-17T12:17:03-03:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary"><meta name=twitter:title content="Clean Code: Fazendo bom uso das funções | Parte 1"><meta name=twitter:description content="Parafraseando o próprio uncle bob, funções são a primeira linha de organização de qualquer programa. Ou seja, na maioria das linguagens, uma função (ou método) é a &ldquo;menor&rdquo; forma de organizar seu código.
Você pode ter classes, interfaces e tudo mais, mas dentro disso tudo estarão funções mantendo sua codebase organizada. Ou bagunçada, depende de como você as usa. Eu diria que essa é uma das partes mais importantes dessa série de artigos justamente por isso."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://marcusxavier.dev/posts/clean-code-part2/><link rel=prev href=https://marcusxavier.dev/posts/clean-code-part1/><link rel=next href=https://marcusxavier.dev/posts/clean-code-part3/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Clean Code: Fazendo bom uso das funções | Parte 1","inLanguage":"pt-BR","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/marcusxavier.dev\/posts\/clean-code-part2\/"},"genre":"posts","wordcount":1184,"url":"https:\/\/marcusxavier.dev\/posts\/clean-code-part2\/","datePublished":"2022-09-17T12:17:03-03:00","dateModified":"2022-09-17T12:17:03-03:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Marcus Xavier"},"description":""}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WEKTJYV5Z7"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WEKTJYV5Z7",{anonymize_ip:!1})}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Meu website"><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=https://github.com/MarcusXavierr title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Meu website"><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=https://github.com/MarcusXavierr title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Clean Code: Fazendo bom uso das funções | Parte 1</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Marcus Xavier</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-09-17>2022-09-17</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1184 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;6 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#pequenas>Pequenas!</a></li><li><a href=#nada-de-hadouken-por-favor>Nada de Hadouken, por favor</a></li><li><a href=#faça-somente-uma-coisa-e-faça-direito>Faça somente uma coisa, e faça direito</a></li><li><a href=#conclusão>Conclusão</a></li></ul></nav></div></div><div class=content id=content><p>Parafraseando o próprio uncle bob, funções são a primeira linha de organização de qualquer programa. Ou seja, na maioria das linguagens, uma função (ou método) é a &ldquo;menor&rdquo; forma de organizar seu código.</p><p>Você pode ter classes, interfaces e tudo mais, mas dentro disso tudo estarão funções mantendo sua codebase organizada. Ou bagunçada, depende de como você as usa. Eu diria que essa é uma das partes mais importantes dessa série de artigos justamente por isso.</p><h2 id=pequenas>Pequenas!</h2><p>Aqui o autor diz que funções deveriam ser pequenas, e eu concordo totalmente com isso. Raramente existe um motivo plausível para que as suas funções tenham mais do que vinte e cinco linhas. Nessa seção do livro, o uncle bob é mais extremista e diz que uma função pequena tem por volta de <strong>quatro</strong> linhas.</p><p>Você pode pensar que ele enlouqueceu, mas em algumas linguagens como haskell é até comum ver uma codebase inteira composta em sua maioria por minúsculas funções de quatro ou cinco linhas.</p><p>O código fica muito mais organizado e bonito dessa forma, na minha opinião. O problema é que muitas vezes acabamos o código de forma apressada e damos muitas responsabilidades pra mesma função. Não tem problema fazer isso, contanto que limpe o seu código depois. Praticamente todo editor hoje em dia fornece a opção de selecionar um bloco de código e extrair uma função (ou seja, pegar esse bloco e automaticamente jogar numa nova função). Trate de configurar essa opção no seu editor pra ontem, é <strong>muito</strong> útil pra refatorar o código.</p><h2 id=nada-de-hadouken-por-favor>Nada de Hadouken, por favor</h2><p>O autor sugere que as suas funções tenham somente um ou dois níveis de identação no máximo, ou seja, você deveria ao máximo evitar aninhados. Sério, se tem um if aninhado no seu código, ele muito provavelmente poderia ser abstraído em uma nova função.</p><p>Outra dica polêmica do uncle bob, da qual eu gosto bastante, é que deveria ter somente <strong>uma</strong> linha de código em blocos como <code>if</code>, <code>else</code>, <code>while</code>, etc. Eu acho essa dica um pouco extrema em algumas situações, mas se estiver um monte de coisa acontecendo dentro do seu <code>if</code>, isso provavelmente deveria ser abstraído dentro de um novo método (lembra que as suas funções deveriam ser pequenas? 🙃).</p><h2 id=faça-somente-uma-coisa-e-faça-direito>Faça somente uma coisa, e faça direito</h2><p>Fazer uma função que faz mais de uma coisa fere tantas &ldquo;boas práticas&rdquo; que é até difícil de listar todas, mas os principais problemas de ter uma função &ldquo;multitarefa&rdquo; são:</p><ul><li>Fere o princípio de responsabilidade única do SOLID</li><li>Como a função faz várias coisas, fica muito mais difícil dar um nome descritivo pra ela</li><li>Muito provavelmente não será uma função pequena</li></ul><p>Essa dica de criar funções que fazem somente uma coisa já é algo extremamente antiga, desenvolvedores muito inteligentes já aplicavam isso nos anos 70. No desenvolvimento do Unix o programadores fizeram ferramentas que <strong>faziam somente uma coisa, mas faziam direito</strong>.</p><p>Por exemplo, o comando <code>history</code> serve para mostrar o seu histórico de comandos rodados no terminal. O comando <code>grep</code> pode ser usado para filtrar texto.
E pronto, caso eu queira ver todos os comandos do git que eu rodei no terminal, basta rodar o comando <code>history</code> combinado com o <code>grep</code> pra filtrar o resultado e me mostrar somente os comandos que contenham a palavra <code>git</code>.</p><p>Mas nós temos um problema, escrever funções que fazem somente uma coisa (e fazem isso direito), não costuma ser uma tarefa trivial. Pode ser complicado dizer se a sua função é multitarefa ou não.
O exemplo abaixo é uma função de um CLI meu que salva palavras em inglês que o usuário não conhece (para poder adicioná-las no anki depois), e dá ao usuário a opção de printar a definição dessa palavras desconhecida no terminal.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span><span class=p>(</span><span class=nx>cmd</span> <span class=o>*</span><span class=nx>cobra</span><span class=p>.</span><span class=nx>Command</span><span class=p>,</span> <span class=nx>args</span> <span class=p>[]</span><span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>definition</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>cmd</span><span class=p>.</span><span class=nf>Flags</span><span class=p>().</span><span class=nf>GetBool</span><span class=p>(</span><span class=s>&#34;definition&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>sentence</span> <span class=o>:=</span> <span class=nf>getSentenceFromArgs</span><span class=p>(</span><span class=nx>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>definition</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>url</span> <span class=o>:=</span> <span class=s>&#34;https://api.dictionaryapi.dev/api/v2/entries/en/&#34;</span> <span class=o>+</span> <span class=nx>sentence</span>
</span></span><span class=line><span class=cl>        <span class=nx>response</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>dictionary</span><span class=p>.</span><span class=nf>GetDefinition</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nx>err</span> <span class=o>==</span> <span class=nx>IO</span><span class=p>.</span><span class=nx>NotFoundError</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>IO</span><span class=p>.</span><span class=nf>PrintRed</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stdout</span><span class=p>,</span> <span class=s>&#34;word not found on dictionary api\n\n&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=nx>err</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nf>PrettyPrintDefinition</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nf>Normalize</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nf>saveSentence</span><span class=p>(</span><span class=nx>sentence</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Esse função é multitarefa? Parece ser, não é? E se nós abstrairmos o código dentro desse <code>if</code>?</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span><span class=p>(</span><span class=nx>cmd</span> <span class=o>*</span><span class=nx>cobra</span><span class=p>.</span><span class=nx>Command</span><span class=p>,</span> <span class=nx>args</span> <span class=p>[]</span><span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>definition</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>cmd</span><span class=p>.</span><span class=nf>Flags</span><span class=p>().</span><span class=nf>GetBool</span><span class=p>(</span><span class=s>&#34;definition&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nx>sentence</span> <span class=o>:=</span> <span class=nf>getSentenceFromArgs</span><span class=p>(</span><span class=nx>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>definition</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nf>printDefinition</span><span class=p>(</span><span class=nx>sentence</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nf>saveSentence</span><span class=p>(</span><span class=nx>sentence</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>printDefinition</span><span class=p>(</span><span class=nx>sentence</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>url</span> <span class=o>:=</span> <span class=s>&#34;https://api.dictionaryapi.dev/api/v2/entries/en/&#34;</span> <span class=o>+</span> <span class=nx>sentence</span>
</span></span><span class=line><span class=cl>	<span class=nx>response</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>dictionary</span><span class=p>.</span><span class=nf>GetDefinition</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>==</span> <span class=nx>IO</span><span class=p>.</span><span class=nx>NotFoundError</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>IO</span><span class=p>.</span><span class=nf>PrintRed</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stdout</span><span class=p>,</span> <span class=s>&#34;word not found on dictionary api\n\n&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>PrettyPrintDefinition</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nf>Normalize</span><span class=p>())</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Será que agora a função faz somente uma coisa? Bom, vamos listar o que a nossa função está fazendo.</p><ol><li>Pegando os dados que o usuário passa, e ver se o usuário passou a flag <code>definition</code> no comando, para ver no terminal a definição da palavra que ele está adicionando</li><li>verificar se o usuário quer ver a definição da palavra, caso ele queira, printar isso na tela.</li><li>salvar a sentença que o usuário está adicionando para estudar no anki mais tarde.</li></ol><p>Bom, como podemos ver, o nosso código ainda está &ldquo;fazendo&rdquo; três, será que nós conseguimos abstrair esse código ainda mais pra que ele faça somente <strong>uma</strong> coisa? Vamos ver</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span><span class=p>(</span><span class=nx>cmd</span> <span class=o>*</span><span class=nx>cobra</span><span class=p>.</span><span class=nx>Command</span><span class=p>,</span> <span class=nx>args</span> <span class=p>[]</span><span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// finalmente a minha função faz SOMENTE uma coisa
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nf>saveSentenceAndPrintDefinition</span><span class=p>(</span><span class=nx>cmd</span><span class=p>,</span> <span class=nx>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Mas espera, agora eu gerei uma função com assinatura igual à anterior
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>saveSentenceAndPrintDefinition</span><span class=p>(</span><span class=nx>cmd</span> <span class=o>*</span><span class=nx>cobra</span><span class=p>.</span><span class=nx>Command</span><span class=p>,</span> <span class=nx>args</span> <span class=p>[]</span><span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Esse código está exatamente igual antes, agora somente mudou de lugar
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>definition</span><span class=p>,</span> <span class=nx>_</span> <span class=o>:=</span> <span class=nx>cmd</span><span class=p>.</span><span class=nf>Flags</span><span class=p>().</span><span class=nf>GetBool</span><span class=p>(</span><span class=s>&#34;definition&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nx>sentence</span> <span class=o>:=</span> <span class=nf>getSentenceFromArgs</span><span class=p>(</span><span class=nx>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>definition</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>printDefinition</span><span class=p>(</span><span class=nx>sentence</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nf>saveSentence</span><span class=p>(</span><span class=nx>sentence</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>printDefinition</span><span class=p>(</span><span class=nx>sentence</span> <span class=kt>string</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>url</span> <span class=o>:=</span> <span class=s>&#34;https://api.dictionaryapi.dev/api/v2/entries/en/&#34;</span> <span class=o>+</span> <span class=nx>sentence</span>
</span></span><span class=line><span class=cl>	<span class=nx>response</span><span class=p>,</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nx>dictionary</span><span class=p>.</span><span class=nf>GetDefinition</span><span class=p>(</span><span class=nx>url</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>==</span> <span class=nx>IO</span><span class=p>.</span><span class=nx>NotFoundError</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>IO</span><span class=p>.</span><span class=nf>PrintRed</span><span class=p>(</span><span class=nx>os</span><span class=p>.</span><span class=nx>Stdout</span><span class=p>,</span> <span class=s>&#34;word not found on dictionary api\n\n&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>err</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nf>PrettyPrintDefinition</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nf>Normalize</span><span class=p>())</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Viram? Existe um ponto onde <strong>não</strong> vale mais a pena ficar extraindo métodos da sua função principal para que ela fique &ldquo;menos multitarefa&rdquo;. Depois de certo ponto você está simplesmente jogando o código para outro canto, sem melhorar em nada a sua legibilidade e mantenabilidade.
Ou seja, uma boa forma de saber se seu código chegou no &ldquo;ponto certo&rdquo; e está seguindo a regra do <em>&ldquo;Faça somente uma coisa&rdquo;</em> é ver se mais uma extração de função irá melhorar seu código ou se irá simplesmente pegar o seu código atual e jogá-lo em outro canto, como aconteceu no nosso último exemplo.</p><h2 id=conclusão>Conclusão</h2><p>Eu pretendia fazer somente um artigo para abordar o bom uso da função, mas as funções são tão importante para a programação, que existem inúmeras boas práticas e dicas para se fazer um excelente código com elas. Colocar tudo em um único artigo deixaria ele enorme.
Por isso pretendo fazer mais um ou dois artigos abordando mais dicas para escrever boas funções, como por exemplo, evitar efeitos colaterais e evitar receber um milhão de parâmetros.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-09-17</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://marcusxavier.dev/posts/clean-code-part2/ data-title="Clean Code: Fazendo bom uso das funções | Parte 1"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://marcusxavier.dev/posts/clean-code-part2/><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://marcusxavier.dev/posts/clean-code-part2/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://marcusxavier.dev/posts/clean-code-part2/ data-title="Clean Code: Fazendo bom uso das funções | Parte 1" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/clean-code-part1/ class=prev rel=prev title="Clean Code: Escolhendo bons nomes"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Clean Code: Escolhendo bons nomes</a>
<a href=/posts/clean-code-part3/ class=next rel=next title="Clean Code: Fazendo bom uso das funções | Parte 2">Clean Code: Fazendo bom uso das funções | Parte 2<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.105.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Marcus Xavier</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},data:{"id-1":"Meu site pessoal","id-2":"Meu site pessoal"},search:{highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:30},typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"id-1":["id-1"],"id-2":["id-2"]},duration:-1,speed:100}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>
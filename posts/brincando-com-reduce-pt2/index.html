<!doctype html><html lang=pt-br><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Entendendo A Função Reduce - Parte 2 - Meu website</title><meta name=Description content="This is my cool site"><meta property="og:title" content="Entendendo A Função Reduce - Parte 2"><meta property="og:description" content="Eu dei uma relida no artigo sobre reduce que tinha publicado anteriormente, e percebi algumas coisas que eu gostaria de adicionar, vamos lá.
Tipos de retorno no reduce O reduce recebe uma lista do tipo X (onde X pode ser um objeto, um número, qualquer coisa) e geralmente te retorna um único valor do tipo X, vamos dizer que isso é do tipo [X] -> X.
Mas isso não é obrigatório."><meta property="og:type" content="article"><meta property="og:url" content="https://marcusxavier.dev/posts/brincando-com-reduce-pt2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-28T21:28:07-03:00"><meta property="article:modified_time" content="2022-11-28T21:28:07-03:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary"><meta name=twitter:title content="Entendendo A Função Reduce - Parte 2"><meta name=twitter:description content="Eu dei uma relida no artigo sobre reduce que tinha publicado anteriormente, e percebi algumas coisas que eu gostaria de adicionar, vamos lá.
Tipos de retorno no reduce O reduce recebe uma lista do tipo X (onde X pode ser um objeto, um número, qualquer coisa) e geralmente te retorna um único valor do tipo X, vamos dizer que isso é do tipo [X] -> X.
Mas isso não é obrigatório."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://marcusxavier.dev/posts/brincando-com-reduce-pt2/><link rel=prev href=https://marcusxavier.dev/posts/clean-code-part6/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Entendendo A Função Reduce - Parte 2","inLanguage":"pt-BR","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/marcusxavier.dev\/posts\/brincando-com-reduce-pt2\/"},"genre":"posts","wordcount":1273,"url":"https:\/\/marcusxavier.dev\/posts\/brincando-com-reduce-pt2\/","datePublished":"2022-11-28T21:28:07-03:00","dateModified":"2022-11-28T21:28:07-03:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Marcus Xavier"},"description":""}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WEKTJYV5Z7"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WEKTJYV5Z7",{anonymize_ip:!1})}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Meu website"><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=https://github.com/MarcusXavierr title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Meu website"><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=https://github.com/MarcusXavierr title=GitHub rel="noopener noreffer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Entendendo A Função Reduce - Parte 2</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Marcus Xavier</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-11-28>2022-11-28</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;1273 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;6 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#tipos-de-retorno-no-reduce>Tipos de retorno no reduce</a></li><li><a href=#debuggando-o-reduce>Debuggando o reduce</a></li><li><a href=#resolvendo-um-problema-possivelmente-real>Resolvendo um problema possivelmente real</a></li><li><a href=#conclusão>Conclusão</a></li></ul></nav></div></div><div class=content id=content><p>Eu dei uma relida no artigo sobre reduce que tinha publicado anteriormente, e percebi algumas coisas que eu gostaria de adicionar, vamos lá.</p><h2 id=tipos-de-retorno-no-reduce>Tipos de retorno no reduce</h2><p>O reduce recebe uma lista do tipo <code>X</code> (onde <code>X</code> pode ser um objeto, um número, qualquer coisa) e geralmente te retorna um único valor do tipo <code>X</code>, vamos dizer que isso é do tipo <code>[X] -> X</code>.</p><p>Mas isso não é obrigatório. É bem possível que o reduce te retorne um outro tipo (nesse caso seria <code>[X] -> Y</code>), ou seja, pode receber uma lista de inteiros e retornar uma string ou um objeto, por exemplo.</p><p>Vou exemplificar com código logo abaixo. Aqui eu tenho duas funções. Na primeira eu recebo uma lista de números, e retorno um único numero (que é a soma de todos os valores dessa lista). Isso seria <code>[X] -> X</code>.</p><p>Mas na segunda função, eu recebo uma lista de strings e retorno uma lista de objetos, isso seria <code>[X] -> Y</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>//Tipo [X] -&gt; X
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>//retorna 10
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>//Tipo [X] -&gt; Y
</span></span></span><span class=line><span class=cl><span class=c1>//Aqui eu recebo uma lista de pessoas, e quero criar uma lista de objetos
</span></span></span><span class=line><span class=cl><span class=c1>//Onde cada pessoa está com o score zerado
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=s1>&#39;nome&#39;</span><span class=p>,</span> <span class=s1>&#39;aleatorio&#39;</span><span class=p>].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>acc</span><span class=p>.</span><span class=nx>concat</span><span class=p>({</span><span class=nx>name</span><span class=o>:</span> <span class=nx>value</span><span class=p>,</span> <span class=nx>score</span><span class=o>:</span> <span class=mi>0</span><span class=p>}),</span> <span class=p>[])</span>
</span></span><span class=line><span class=cl><span class=c1>//retorna [ { name: &#39;nome&#39;, score: 0 }, { name: &#39;aleatorio&#39;, score: 0 } ]
</span></span></span></code></pre></td></tr></table></div></div><p>No Javascript, <strong>geralmente</strong>, se você chama seu reduce <strong>sem</strong> passar um valor inicial, ele será do tipo <code>[X] -> X</code>. Já se você quiser fazer algo do tipo <code>[X] -> Y</code>, <strong>geralmente</strong>, terá que passar um valor inicial, que é o segundo parametro da função reduce, logo após a sua função anônima. No exemplo acima eu coloquei um array vazio.</p><h2 id=debuggando-o-reduce>Debuggando o reduce</h2><p>Bom, a ideia aqui é criar um reduce, e ir passo a passo pra ver o que ele está fazendo. Primeiro vou reimplementar a função somador e ver como os valores vão mudando a cada passo, como aconteceria num debugger mesmo. Depois explicarei um exemplo um pouco mais complexo (e útil).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>values</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>values</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//isso aqui, na verdade é
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>value</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Agora vamos lá. Se você não passar um valor inicial (como eu não passei), o JS irá pegar o primeiro item do array pra ir pro <code>acc</code>, e vai começar a rodar a partir do segundo, ou seja, vai colocar o segundo item no <code>value</code>. Então dando um passo e nosso estado seria isso aqui</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>//              1     2        1   +  2 = 3
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>value</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>O resultado dessa soma irá sobrescrever o valor de acc, que passará a ser 3. Vamos dar mais um passo. Atualmente o nosso <code>acc</code> é um 3, e o nosso <code>value</code> irá pegar o valor do próximo item do array. Que por coincidência é um 3 também</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>//            3    3         3   +  3 = 6
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>//Agora vamos rodar até a lista esvaziar
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>//          6    4         6   + 4 = 10
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=mi>5</span><span class=p>].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//          10   5        10  + 5 = 15
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>acc</span> <span class=o>+</span> <span class=nx>value</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Certo, agora o nosso <code>acc</code> vale 15, e a nossa lista está vazia, o que acontece agora? Bom, quando a lista está vazia, o reduce simplesmente pega o que está no <code>acc</code> e retorna para o usuário. É por isso que o exemplo abaixo retorna o valor 1, e não o valor 500.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>//Eu vou passar 1 como valor inicial para a minha função.
</span></span></span><span class=line><span class=cl><span class=c1>//ou seja, o acc começará valendo 1
</span></span></span><span class=line><span class=cl><span class=c1>//Mas como a minha lista está vazia, o código return 500 nem rodará,
</span></span></span><span class=line><span class=cl><span class=c1>//o reduce vai retornar 1 logo
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>acc</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span><span class=k>return</span> <span class=mi>500</span><span class=p>},</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1>//retorna 1
</span></span></span></code></pre></td></tr></table></div></div><h2 id=resolvendo-um-problema-possivelmente-real>Resolvendo um problema possivelmente real</h2><p>Bom, agora vem o &ldquo;debugging&rdquo; mais complexo que citei anteriormente. Imaginemos que você recebe uma lista de objetos que representam a pontuação dos usuários, e você quer definir qual usuário ganhou. Existem várias formas de resolver esse problema, e uma delas é o reduce.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>scores</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Huguinho&#39;</span><span class=p>,</span> <span class=nx>score</span><span class=o>:</span> <span class=mi>20</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Zezinho&#39;</span><span class=p>,</span> <span class=nx>score</span><span class=o>:</span> <span class=mi>25</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Luizinho&#39;</span><span class=p>,</span>	<span class=nx>score</span><span class=o>:</span> <span class=mi>15</span><span class=p>}]</span>
</span></span></code></pre></td></tr></table></div></div><p>Agora que nós temos a lista de pontuações, é só rodar no nosso reduce</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>scores</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>previousValue</span><span class=p>,</span> <span class=nx>actualValue</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>actualValue</span><span class=p>.</span><span class=nx>score</span> <span class=o>&gt;</span> <span class=nx>previousValue</span><span class=p>.</span><span class=nx>score</span><span class=p>)</span> <span class=k>return</span> <span class=nx>actualValue</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>return</span> <span class=nx>previousValue</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>Como eu não quero &ldquo;acumular&rdquo; um valor nesse caso, eu preferi chamar o meu primeiro parâmetro como &ldquo;previousValue&rdquo; (valorAnterior) e o segundo como &ldquo;actualValue&rdquo; (valoarAtual).</p><p>A ideia aqui é basicamente olhar se o meu <code>actualValue</code> tem um score maior que o <code>previousValue</code>, se ele tiver, eu retorno o <code>actualValue</code>, sobrescrevendo o que tem no <code>previousValue</code>.</p><p>Agora, caso o score do meu <code>previousValue</code> seja maior ou igual ao do meu <code>actualValue</code> eu retorno o <code>previousValue</code>, ou seja, eu basicamente estou deixando o mesmo valor que tinha no <code>previousValue</code>. Não estou tratando o caso de empate aqui.</p><p>Coloquei esse else pra deixar claro que retorna um ou outro, nesse caso ele é opcional.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>//Vamos dar o primeiro passo então
</span></span></span><span class=line><span class=cl><span class=c1>//como não passei valor inicial o reduce faz o mesmo esquema de antes
</span></span></span><span class=line><span class=cl><span class=c1>//que é pegar o primeiro item e colocar no acumulador (valor anterior),
</span></span></span><span class=line><span class=cl><span class=c1>//e botar o segundo item no valor atual
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>scores</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Huguinho&#39;</span><span class=p>,</span> <span class=nx>score</span><span class=o>:</span> <span class=mi>20</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Zezinho&#39;</span><span class=p>,</span> <span class=nx>score</span><span class=o>:</span> <span class=mi>25</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Luizinho&#39;</span><span class=p>,</span>	<span class=nx>score</span><span class=o>:</span> <span class=mi>15</span><span class=p>}]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//                              {name: &#39;Huguinho&#39;...} {name: &#39;Zezinho&#39;...}
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Luizinho&#39;</span><span class=p>,</span> <span class=nx>score</span><span class=o>:</span> <span class=mi>15</span><span class=p>}].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>previousValue</span><span class=p>,</span> <span class=nx>actualValue</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=c1>//                 25     &gt;              20 é true
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>actualValue</span><span class=p>.</span><span class=nx>score</span> <span class=o>&gt;</span> <span class=nx>previousValue</span><span class=p>.</span><span class=nx>score</span><span class=p>)</span> <span class=k>return</span> <span class=nx>actualValue</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>return</span> <span class=nx>previousValue</span>
</span></span><span class=line><span class=cl>    <span class=c1>//retorno o meu actualValue (pontuação do zezinho)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>Como o score do meu valor atual é <strong>maior</strong> do que o do valor anterior, eu retorno o meu valor atual, sobrescrevendo o <code>previousValue</code> com ele. Agora o nosso próximo passo está assim.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>//   {name: &#39;Zezinho&#39;...} {name: &#39;Luizinho&#39;...}
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[].</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>previousValue</span><span class=p>,</span> <span class=nx>actualValue</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=c1>//                 15     &gt;              25 é false
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>actualValue</span><span class=p>.</span><span class=nx>score</span> <span class=o>&gt;</span> <span class=nx>previousValue</span><span class=p>.</span><span class=nx>score</span><span class=p>)</span> <span class=k>return</span> <span class=nx>actualValue</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>return</span> <span class=nx>previousValue</span>
</span></span><span class=line><span class=cl>    <span class=c1>//retorno o previousValue (pontuação do zezinho)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>E como o meu valor atual não tem um score maior do que o anterior, vamos retornar o valor anterior para ser salvo no nosso acumulador (ou <code>previousValue</code> nesse caso), basicamente deixando do mesmo jeito que estava.</p><p>O reduce irá rodar novamente e verá que a lista está vazia, aí ele simplesmente retornará o que tiver no meu acumulador. E nesse caso isso é a pontuação do zezinho. <code>{ name: 'Zezinho', score: 25}</code>.</p><p>Se você quiser tirar a prova, abra o node ou o console do navegador e rode o código completo abaixo</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>scores</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;huguinho&#39;</span><span class=p>,</span> <span class=nx>score</span><span class=o>:</span> <span class=mi>20</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;zezinho&#39;</span><span class=p>,</span> <span class=nx>score</span><span class=o>:</span> <span class=mi>25</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;luizinho&#39;</span><span class=p>,</span>	<span class=nx>score</span><span class=o>:</span> <span class=mi>15</span><span class=p>}]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>scores</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>previousValue</span><span class=p>,</span> <span class=nx>actualValue</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>actualValue</span><span class=p>.</span><span class=nx>score</span> <span class=o>&gt;</span> <span class=nx>previousValue</span><span class=p>.</span><span class=nx>score</span><span class=p>)</span> <span class=k>return</span> <span class=nx>actualValue</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>return</span> <span class=nx>previousValue</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=conclusão>Conclusão</h2><p>Bom, esse artigo serviu mais para explicar melhor como o reduce computa os
valores da lista e reduz um <code>[X]</code> em outra coisa como um <code>X</code> ou um <code>Y</code>. Ainda
existem muitas coisas para serem abordadas, por exemplo: como map e filter são
derivados do reduce, como é uma recursão por trás do reduce, como usar os
outros dois parâmetros da função interna do reduce que nós ainda não usamos.
Mas por hoje ficamos por aqui. Eu posso abordar esses temas em artigos futuros.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-11-28</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://marcusxavier.dev/posts/brincando-com-reduce-pt2/ data-title="Entendendo A Função Reduce - Parte 2"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://marcusxavier.dev/posts/brincando-com-reduce-pt2/><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://marcusxavier.dev/posts/brincando-com-reduce-pt2/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://marcusxavier.dev/posts/brincando-com-reduce-pt2/ data-title="Entendendo A Função Reduce - Parte 2" data-web><i class="fab fa-whatsapp fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/clean-code-part6/ class=prev rel=prev title="Clean Code: Classes"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Clean Code: Classes</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.107.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Marcus Xavier</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},data:{"id-1":"Meu site pessoal","id-2":"Meu site pessoal"},search:{highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:30},typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"id-1":["id-1"],"id-2":["id-2"]},duration:-1,speed:100}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>